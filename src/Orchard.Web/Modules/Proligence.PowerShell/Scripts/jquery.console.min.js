(function(n){var t=!!~navigator.userAgent.indexOf(" AppleWebKit/");n.fn.console=function(i){function nt(){u=0;r="";c=0;ci();b=n('<div class="jquery-console-prompt-box"><\/div>');var t=n('<span class="jquery-console-prompt-label"><\/span>'),i=o.continuedPrompt?gt:o.promptLabel;b.append(t.text(i).show());t.html(t.html().replace(" ","&nbsp;"));ot=n('<span class="jquery-console-prompt"><\/span>');b.append(ot);f.append(b);s()}function ti(n){return(n.keyCode==ut.tab||n.keyCode==192)&&n.altKey}function vt(n){if(p.length!=0){c+=n;c<0?c=p.length:c>p.length&&(c=0);var t=r;r=c==0?k:p[c-1];i.historyPreserveColumn?r.length<u+1?u=r.length:u==0&&(u=r.length):u=r.length;s()}}function yt(){vt(-1)}function pt(){vt(1)}function ii(n){p.push(n);k=""}function w(){return u<r.length?(r=r.substring(0,u)+r.substring(u+1),k=r,!0):!1}function ri(){v(-1)&&(w(),s())}function wt(){w()&&s()}function ui(){while(w())s()}function fi(){while(u<r.length&&!y(r[u]))w(),s();while(u<r.length&&y(r[u]))w(),s()}function ei(){var t=r.split("\n"),i=t.slice(-1)[0],u=i.match(/^(\s*)/g)[0],n="\n"+u;r+=n;v(n.length);s()}function oi(){var t=r,n;typeof i.commandValidate=="function"?(n=i.commandValidate(t),n==!0||n==!1?n&&bt():a(n,"jquery-console-message-error")):bt()}function st(){var n=jQuery.fn.jquery.split("."),t=parseInt(n[0]),i=parseInt(n[1]);t==1&&i>6||t>1?f.prop({scrollTop:f.prop("scrollHeight")}):f.attr({scrollTop:f.attr("scrollHeight")})}function si(){typeof i.cancelHandle=="function"&&i.cancelHandle()}function bt(){var t,n;typeof i.commandHandle=="function"&&(hi(),ii(r),t=r,o.continuedPrompt?h?h+="\n"+r:h=r:h=undefined,h&&(t=h),n=i.commandHandle(t,function(n){a(n)}),o.continuedPrompt&&!h&&(h=r),typeof n=="boolean"?n?a():a("Command failed.","jquery-console-message-error"):typeof n=="string"?a(n,"jquery-console-message-success"):typeof n=="object"&&n.length?a(n):o.continuedPrompt&&a())}function hi(){d=!1}function ci(){d=!0}function a(t,i){var e,r;if(u=-1,s(),typeof t=="string")ht(t,i);else if(n.isArray(t))for(e in t)r=t[e],ht(r.msg,r.className);else f.append(t);nt()}function ht(t,i){var r=n('<div class="jquery-console-message"><\/div>');i&&r.addClass(i);r.filledText(t).hide();f.append(r);r.show()}function v(n){return u+n>=0&&u+n<=r.length?(u+=n,!0):!1}function tt(){return v(1)?(s(),!0):!1}function it(){return v(-1)?(s(),!0):!1}function kt(){v(-u)&&s()}function dt(){v(r.length-u)&&s()}function li(){while(u<r.length&&!y(r[u])&&tt());while(u<r.length&&y(r[u])&&tt());}function ai(){while(u-1>=0&&!y(r[u-1])&&it());while(u-1>=0&&y(r[u-1])&&it());}function y(n){if(typeof n=="string"){var t=n.charCodeAt();return t>="A".charCodeAt()&&t<="Z".charCodeAt()||t>="a".charCodeAt()&&t<="z".charCodeAt()||t>="0".charCodeAt()&&t<="9".charCodeAt()}return!1}function vi(){var t,f,h,u,n,l,s;if(typeof i.completeHandle=="function")if(t=i.completeHandle(r),f=t.length,f===1)o.promptText(r+t[0]);else if(f>1&&i.cols){for(h=r,u=0,n=0;n<f;n++)u=Math.max(u,t[n].length);u+=2;var v=Math.floor(i.cols/u),e="",c=0;for(n=0;n<f;n++){for(l=t[n],e+=t[n],s=l.length;s<u;s++)e+=" ";++c>=v&&(e+="\n",c=0)}a(e,"jquery-console-message-value");o.promptText(h)}}function yi(){}function s(){var n=r,i="",f,t,e;u>0&&n==""?i=at:u==r.length?i=rt(n)+at:(f=n.substring(0,u),t=n.substring(u,u+1),t&&(t='<span class="jquery-console-cursor">'+rt(t)+"<\/span>"),e=n.substring(u+1),i=rt(f)+t+rt(e));ot.html(i);st()}function rt(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/</g,"&lt;").replace(/ /g,"&nbsp;").replace(/\n/g,"<br />")}var ut={37:it,39:tt,38:yt,40:pt,8:ri,46:wt,35:dt,36:kt,13:oi,18:yi,9:vi},ft={65:kt,69:dt,68:wt,78:pt,80:yt,66:it,70:tt,75:ui},g;i.ctrlCodes&&n.extend(ft,i.ctrlCodes);var ct={70:li,66:ai,68:fi},lt={13:ei},at='<span class="jquery-console-cursor">&nbsp;<\/span>',et=n(this),f=n('<div class="jquery-console-inner"><\/div>'),e=n('<textarea class="jquery-console-typer"><\/textarea>'),b,ot,gt=i&&i.continuedPromptLabel?i.continuedPromptLabel:"> ",u=0,r="",k="",h="",ni=i.fadeOnReset!==undefined?i.fadeOnReset:!0,p=[],c=0,l=0,d=!0,o={};return function(){o.promptLabel=i&&i.promptLabel?i.promptLabel:"> ";et.append(f);f.append(e);e.css({position:"absolute",top:0,left:"-9999px"});i.welcomeMessage&&ht(i.welcomeMessage,"jquery-console-welcome");nt();i.autofocus&&(f.addClass("jquery-console-focus"),e.focus(),setTimeout(function(){f.addClass("jquery-console-focus");e.focus()},100));o.inner=f;o.typer=e;o.scrollToBottom=st}(),o.reset=function(){var t=typeof i.welcomeMessage!="undefined",r=function(){f.find("div").each(function(){t?t=!1:n(this).remove()})};ni?f.parent().fadeOut(function(){r();nt();f.parent().fadeIn(g)}):(r(),nt(),g())},g=function(){f.addClass("jquery-console-focus");e.focus()},o.focus=function(){g()},o.notice=function(t,i){var r=n('<div class="notice"><\/div>').append(n("<div><\/div>").text(t)).css({visibility:"hidden"}),u,e,o;return et.append(r),u=!0,i=="fadeout"?setTimeout(function(){r.fadeOut(function(){r.remove()})},4e3):i=="prompt"&&(e=n('<br/><div class="action"><a href="javascript:">OK<\/a><div class="clear"><\/div><\/div>'),r.append(e),u=!1,e.click(function(){r.fadeOut(function(){r.remove();f.css({opacity:1})})})),o=r.height(),r.css({height:"0px",visibility:"visible"}).animate({height:o+"px"},function(){u||f.css({opacity:.5})}),r.css("cursor","default"),r},et.click(function(){return window.getSelection().toString()?!1:(f.addClass("jquery-console-focus"),f.removeClass("jquery-console-nofocus"),t?e.focusWithoutScrolling():e.css("position","fixed").focus(),st(),!1)}),e.blur(function(){f.removeClass("jquery-console-focus");f.addClass("jquery-console-nofocus")}),e.bind("paste",function(){e.val("");setTimeout(function(){e.consoleInsert(e.val());e.val("")},0)}),e.keydown(function(n){l=0;var t=n.keyCode;if(n.ctrlKey&&t==67)return l=t,si(),!1;if(d){if(n.shiftKey&&t in lt)return l=t,lt[t](),!1;if(n.altKey&&t in ct)return l=t,ct[t](),!1;if(n.ctrlKey&&t in ft)return l=t,ft[t](),!1;if(t in ut)return l=t,ut[t](),!1}}),e.keypress(function(n){var u=n.keyCode||n.which;if(ti(n))return!1;if((n.ctrlKey||n.metaKey)&&String.fromCharCode(u).toLowerCase()=="v")return!0;if(d&&l!=u&&u>=32){if(l)return!1;(typeof i.charInsertTrigger=="undefined"||typeof i.charInsertTrigger=="function"&&i.charInsertTrigger(u,r))&&e.consoleInsert(u)}if(t)return!1}),e.consoleInsert=function(n){var t=typeof n=="number"?String.fromCharCode(n):n,i=r.substring(0,u),f=r.substring(u);r=i+t+f;v(t.length);k=r;s()},o.promptText=function(n){return typeof n=="string"&&(r=n,u=r.length,s()),r},o};n.fn.filledText=function(t){return n(this).text(t),n(this).html(n(this).html().replace(/\n/g,"<br/>")),this};n.fn.focusWithoutScrolling=function(){var t=window.scrollX,i=window.scrollY;n(this).focus();window.scrollTo(t,i)}})(jQuery);
/*
//# sourceMappingURL=jquery.console.min.js.map
*/